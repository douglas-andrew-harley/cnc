<pre>
o104 sub

m101 ; Ask user about the probe diameter

M70 ; Save modal state
G91 ; Relative/incremental movements
G20 ; Inches

m100 p1; Enable probe input mask

G38.2 Y1.0 F10.0 ; Probe back at fast speed to get close
F20 G01 Y-0.1 ; Forward 0.1

G38.2 Y1.0 F2.5 ; Probe back at medium speed; more precise
F20 G01 Y-0.05 ; Forward 0.05

G38.2 Y1.0 F0.5 ; Probe back at slowest speed; most precise
; Set G54 instead of G92 since that is consistent
; with what AXIS "Touch Off" buttons do
G10 L20 P1 Y[-0.125 - #<_hal[probe-radius]> ] ; Set G54 X offset so current X i$

G90 ; Absolute movements
G54 ; Select the co-ordinate system just zero'd
G0 Y-0.5 ; Move clear of zero

m100 p0; Disable probe input mask

M72 ; Restore modal state

o104 endsub
</pre>
